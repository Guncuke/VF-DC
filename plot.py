import matplotlib.pyplot as plt
import numpy as np


mimic_10 = [(0.4618201483312732, 0.2020403276429489), (0.6547033374536464, 0.0413772112365801639),
            (0.7545024721878862, 0.04146738206002020844), (0.7838998763906056, 0.0327053592219105759),
            (0.884796044499382, 0.02117915846899499), (0.8847651421508036, 0.0010655710537433132),
            (0.8850896168108777, 0.0011491145419130532), (0.8847033374536464, 0.001224060712011024),
            (0.8842088998763904, 0.0009678899730139615), (0.8843479604449935, 0.0008168689671128641),
            (0.8843634116192829, 0.0009703534281895909), (0.8845179233621755, 0.0011316337097404705),
            (0.884471569839308, 0.0010717146559863808), (0.8845179233621755, 0.001043840899508938),
            (0.8850278121137206, 0.0015248203322953456), (0.8848269468479604, 0.001274511163615648),
            (0.8847187886279357, 0.0018320558411962346), (0.8845024721878862, 0.0014621579384042813),
            (0.8839307787391842, 0.0014800902366907435), (0.8851205191594561, 0.001069931064725841),
            (0.8854295426452412, 0.001541636994806275)]
mimic_50 = [(0.4810414091470951, 0.209384254953202), (0.6865976514215081, 0.05540533065144266),
            (0.8269468479604449, 0.04732887994473206), (0.8619839307787392, 0.0345987364453485),
            (0.8728924598269468, 0.0239867883283257), (0.88430469715698387, 0.0278112704203584),
            (0.8837144622991348, 0.01902208981742345), (0.8837311495673672, 0.01999132555992804),
            (0.8837453646477134, 0.00112801381758333), (0.883930778739184, 0.0008652657601977655),
            (0.8840234857849196, 0.0010664668681543503), (0.8840698393077874, 0.0009336141124858321),
            (0.8829110012360939, 0.0023491883275645236), (0.8836990111248454, 0.0010717146559863864),
            (0.8806242274412854, 0.012309107956465977), (0.8843325092707044, 0.0009067614802918068),
            (0.8820148331273178, 0.005542299818653327), (0.8839925834363411, 0.0015859860840984278),
            (0.8821693448702103, 0.006582345327068649), (0.8828800988875154, 0.0023042462153655477),
            (0.8833436341161928, 0.002716068577139513)]
mimic_100 = [(0.5738411619283065, 0.1488138145813908), (0.8811495673671198, 0.024447576972775905),
             (0.8821075401730532, 0.023479088457724871), (0.8846106304079111, 0.0218372198506887558),
             (0.8846106304079109, 0.0025976229791660676), (0.8847187886279357, 0.0008545770586541862),
             (0.8844715698393077, 0.0006278198286127981), (0.8847342398022249, 0.0007632317079869313),
             (0.8847033374536466, 0.000654809026588904), (0.8846106304079111, 0.0006211295192287477),
             (0.8843170580964154, 0.0006045734717711262), (0.8845797280593326, 0.000637068236343879),
             (0.884548825710754, 0.0006727917508367536), (0.8844870210135969, 0.0006526178022850139),
             (0.8843170580964154, 0.000859035267238424), (0.8844870210135969, 0.0006378172880268822),
             (0.8845179233621755, 0.0007053592219105861), (0.8845642768850432, 0.0006293390560697265),
             (0.8846260815822001, 0.00048147207821022946), (0.8846415327564895, 0.0008355071591221105),
             (0.8844252163164402, 0.0005613690396966832)]

# mimic_10 = [(0.4618201483312732, 0.2020403276429489), (0.8839307787391842, 0.0007902788536801266), (0.8839771322620518, 0.0011457855773462644), (0.8857231149567367, 0.0010597298021929804), (0.883853522867738, 0.0009233288731970672), (0.8838226205191594, 0.0010501116401449991), (0.8853059332509272, 0.0018184528967181393), (0.8839925834363411, 0.0015432621741883364), (0.8844406674907292, 0.0017602814307352325), (0.8856149567367119, 0.0013794879015463159), (0.8840852904820766, 0.001452410383189135), (0.8849814585908528, 0.0012875566536464538), (0.8847805933250926, 0.001740641819777778), (0.8854449938195301, 0.0012967945153496638), (0.8841161928306551, 0.0011055960333744429), (0.8853368355995054, 0.0013055099386056115)]
# mimic_50 = [(0.4810414091470951, 0.209384254953202),(0.8842552533992583, 0.0009447985628065909), (0.8842552533992583, 0.000865679532004407), (0.8844715698393077, 0.000777333821267327), (0.8845179233621756, 0.0010929999495567092), (0.884548825710754, 0.0014474707575562907), (0.8845951792336217, 0.0009447985628065961), (0.8841316440049445, 0.001022466208687621), (0.8844561186650186, 0.000991286460589945), (0.8843479604449938, 0.0009212580460917124), (0.8840698393077874, 0.0009129277655576364), (0.8848733003708282, 0.0010177856338303174), (0.884054388133498, 0.0007087357812842777), (0.8842243510506798, 0.0007132687816800904), (0.8842398022249691, 0.0007962978199459393), (0.8845333745364649, 0.0008307790518399384)]
# mimic_100 = [(0.49585908529048217, 0.30435069386306784), (0.8847342398022251, 0.0009219056792445256), (0.8843788627935723, 0.000461211729190339), (0.8846415327564896, 0.0006562657781704458), (0.884595179233622, 0.0007212571085898655), (0.8846878862793572, 0.0008917616829733028), (0.8846569839307789, 0.0006831795726030453), (0.8846569839307786, 0.0005066006276500324), (0.8843634116192831, 0.0005992187710032457), (0.8845179233621755, 0.0006635015622244838), (0.8843943139678615, 0.0005605178352044851), (0.884347960444994, 0.0006901332334402741), (0.8846106304079111, 0.0007594688335874251), (0.884347960444994, 0.0007561609581731929), (0.8845797280593326, 0.000728011062385017), (0.8845179233621756, 0.00080642696852286)]

spambase_10 = [(0.5785, 0.03992319014196024), (0.8010000000000002, 0.016058919293927866),
               (0.8018333333333334, 0.014623990943347554), (0.8138333333333332, 0.013007476482563564),
               (0.7931666666666667, 0.015401118285515648), (0.8006666666666667, 0.015513435037626798),
               (0.7968333333333333, 0.01805777764104247), (0.8116666666666665, 0.013059692016106494),
               (0.807, 0.014294521094927714), (0.8046666666666666, 0.015613384571507157),
               (0.8058333333333334, 0.01831438414652992), (0.8148333333333333, 0.01408210053775911),
               (0.8055000000000001, 0.02090388055415123), (0.8038333333333332, 0.017989966339292812),
               (0.8103333333333333, 0.013739642563683303), (0.8093333333333333, 0.014321700705960567)]
spambase_50 = [(0.6051666666666666, 0.03981170961189963), (0.8201666666666666, 0.014239030865898141),
               (0.8406666666666667, 0.015297058540778369), (0.8406666666666667, 0.01775136927425914),
               (0.8391666666666667, 0.012511106177224205), (0.8443333333333334, 0.024200550957915547),
               (0.849, 0.01680277754817141), (0.8396666666666667, 0.020190756961210407),
               (0.8380000000000001, 0.017461067804945052), (0.834, 0.017016332024133628),
               (0.8416666666666666, 0.012758439472669766), (0.8365, 0.016782100252617047),
               (0.8348333333333333, 0.014924811556599298), (0.8323333333333333, 0.01980740602232743),
               (0.828, 0.015965240019770732), (0.8291666666666666, 0.0180393089298528),
               (0.8256666666666665, 0.012565384549980525), (0.8305, 0.0195298916194296),
               (0.8281666666666668, 0.014775166853729807), (0.8276666666666668, 0.02005824851110718),
               (0.8311666666666667, 0.01780371371995805)]
spambase_100 = [(0.5456666666666667, 0.044197787777720765), (0.8619999999999999, 0.00985449699939632),
                (0.8686666666666666, 0.011175369742826803), (0.867, 0.01448754254140049),
                (0.8653333333333331, 0.015326085243430194), (0.8675, 0.011919871363959143),
                (0.8648333333333331, 0.012713728363029043), (0.8710000000000001, 0.014495209936772595),
                (0.8691666666666666, 0.01149275133870621), (0.8645000000000002, 0.012792141684991175),
                (0.8656666666666666, 0.008950481054731708), (0.8713333333333333, 0.011850925889754133),
                (0.8683333333333334, 0.013437096247164245), (0.8644999999999999, 0.01221451777371683),
                (0.8646666666666667, 0.011518101695447317), (0.8698333333333332, 0.010081611423224415)]

breast_10 = [(0.3521739130434783, 0.08301451299489673), (0.9, 0.004347826086956508),
             (0.9159420289855073, 0.0057971014492753875), (0.927536231884058, 0.0), (0.927536231884058, 0.0),
             (0.9260869565217392, 0.007804586677006539), (0.9347826086956521, 0.009722034684781687),
             (0.9304347826086957, 0.01084538372977955), (0.9420289855072463, 0.009166022203386612),
             (0.9347826086956521, 0.009722034684781687), (0.9405797101449276, 0.007804586677006525),
             (0.946376811594203, 0.0066414140506606675), (0.9376811594202898, 0.014565037132059281),
             (0.9405797101449276, 0.010144927536231887), (0.9362318840579709, 0.007099970268936725),
             (0.9391304347826086, 0.005797101449275343)]
breast_20 = [(0.5753623188405796, 0.022498803907623217), (0.9217391304347826, 0.01328282810132128),
             (0.8985507246376813, 1.1102230246251565e-16), (0.8985507246376813, 1.1102230246251565e-16),
             (0.8739130434782609, 0.009279890199178053), (0.8695652173913043, 0.0),
             (0.881159420289855, 0.0057971014492753875), (0.872463768115942, 0.0057971014492753875),
             (0.8695652173913043, 0.0), (0.8768115942028987, 0.007246376811594235),
             (0.8956521739130434, 0.005797101449275343), (0.8985507246376813, 0.006481356456521108),
             (0.9043478260869566, 0.009613405189435936), (0.9202898550724636, 0.007246376811594235),
             (0.9260869565217392, 0.004347826086956541), (0.9260869565217392, 0.004347826086956541)]
breast_30 = [(0.5304347826086957, 0.09595910352027158), (0.9072463768115941, 0.007099970268936725),
             (0.9014492753623189, 0.005797101449275343), (0.8985507246376813, 1.1102230246251565e-16),
             (0.9101449275362319, 0.005797101449275343), (0.917391304347826, 0.0066414140506606675),
             (0.9188405797101449, 0.00709997026893678), (0.9217391304347826, 0.00709997026893678),
             (0.9246376811594204, 0.0057971014492753875), (0.927536231884058, 0.0), (0.927536231884058, 0.0),
             (0.9318840579710145, 0.006641414050660617), (0.9333333333333333, 0.007099970268936725),
             (0.9405797101449276, 0.004347826086956508), (0.9376811594202898, 0.006641414050660617),
             (0.9405797101449276, 0.004347826086956508)]

magic_10 = [(0.460625, 0.021340475661845455), (0.6547999999999999, 0.01019972554852634),
            (0.6749750000000001, 0.03516539679267316), (0.6695249999999999, 0.04511931758875344),
            (0.6612249999999999, 0.04178715808737799), (0.6644750000000001, 0.04752649517456628),
            (0.6887, 0.018861601204563726), (0.6888500000000001, 0.031231034244802076), (0.69005, 0.02731798857895654),
            (0.671825, 0.07564659195892437), (0.672275, 0.0826441473328426), (0.679575, 0.07762961338947914),
            (0.6666500000000002, 0.08284090868910095), (0.668525, 0.07762030581619736), (0.664475, 0.08589623163739113),
            (0.66575, 0.06636393890788363), (0.67535, 0.06353116680497713), (0.6767999999999999, 0.06500611886933067),
            (0.69065, 0.02293038377350017), (0.69945, 0.02189000913659015), (0.689175, 0.07825475624522767)]
magic_50 = [(0.4729999999999998, 0.026494228206646282), (0.702175, 0.027137278327054093),
            (0.694825, 0.023492166247496202), (0.703325, 0.03014849706038429), (0.69175, 0.0832369359118895),
            (0.7135, 0.02893095228297886), (0.6975499999999999, 0.0860964430159574),
            (0.7233999999999999, 0.036555300573241085), (0.7077, 0.08747233848480329),
            (0.7132750000000001, 0.03161901129067763), (0.723175, 0.030733237301006872), (0.71885, 0.04228034413294196),
            (0.6977500000000001, 0.036338856613823176), (0.7081, 0.04356503086089375), (0.724775, 0.03591603924432649),
            (0.722175, 0.04005972884331595), (0.7170750000000001, 0.03821780928474703),
            (0.7109499999999999, 0.032955234789028585), (0.693625, 0.0456955184067405), (0.71435, 0.04203662093936667),
            (0.7063499999999999, 0.08472692901315379)]
magic_100 = [(0.4986749999999999, 0.026810423995611442), (0.7099249999999999, 0.019836377567489485),
             (0.69065, 0.0407777970732057), (0.717525, 0.03246208365154646), (0.7199249999999999, 0.0363907221581114),
             (0.7101999999999999, 0.031824283181243855), (0.714075, 0.017867760771848262),
             (0.726525, 0.03202010110852244), (0.7122999999999999, 0.02170852367159037),
             (0.7159749999999999, 0.025569745305731927), (0.7167749999999999, 0.032303821368376825),
             (0.7263499999999999, 0.0321531880223408), (0.727325, 0.06210132414472186), (0.713125, 0.06441710060763755),
             (0.7217, 0.04361719320809567), (0.724775, 0.04741216663028094), (0.72895, 0.04978601711324174),
             (0.7158249999999999, 0.040490207149383665), (0.7291000000000001, 0.0383192510365221),
             (0.719, 0.03538184562738354), (0.7313249999999999, 0.04220168094993374)]

minist_50 = [(0.10244499999999998, 0.026759287639995202), (0.9758549999999999, 0.0009420589153550845),
             (0.9781599999999999, 0.0005774080013300736), (0.9797800000000001, 0.000823164625090257),
             (0.9805249999999999, 0.0004988737315193034), (0.9812899999999999, 0.0006662582082045903),
             (0.9815000000000002, 0.0007905694150420913), (0.981625, 0.0007732237709744892),
             (0.9820149999999999, 0.0005387717513010557), (0.9821799999999998, 0.000714562803397991),
             (0.98194, 0.0008991106717195524), (0.9819299999999999, 0.0007874642849044059),
             (0.9822999999999998, 0.0008994442728707529), (0.9824499999999998, 0.000710281634283187),
             (0.9822999999999998, 0.0007661592523751244), (0.982445, 0.0007618890995413956),
             (0.9826599999999999, 0.000594474557908062), (0.9825799999999999, 0.0005573149917237157),
             (0.98254, 0.0009090654541890876), (0.98267, 0.0007791662210337376), (0.982655, 0.0007586006854729246)]
minist_100 = [(0.09273999999999999, 0.02395454862860079), (0.9751349999999999, 0.0007404559406203604),
              (0.9788050000000001, 0.000751980717837897), (0.9808349999999999, 0.0007505164888261903),
              (0.9821899999999999, 0.0007395268757793678), (0.9828700000000001, 0.0006396092557178912),
              (0.9837199999999999, 0.00088971905678141), (0.9841549999999998, 0.0005113462623311187),
              (0.9843750000000002, 0.0005829879930152989), (0.9846600000000001, 0.0007539230729988358),
              (0.9847400000000001, 0.0007172168430816475), (0.98475, 0.0005826662852782768),
              (0.9849599999999998, 0.0007137226352022242), (0.9852449999999999, 0.0004398579316097377),
              (0.9851749999999999, 0.0006898369372540085), (0.9855550000000001, 0.0006336205489092157),
              (0.9856349999999999, 0.0005452293095569924), (0.9856750000000002, 0.0007105455650413972),
              (0.985455, 0.0006538157232737703), (0.9857549999999999, 0.0006240793218814481),
              (0.985825, 0.0005299764145695561)]
minist_200 = []

FashionMNIST_50 = []
FashionMNIST_100 = []
FashionMNIST_200 = []

CIFAR_50 = []
CIFAR_100 = []
CIFAR_200 = []


def draw(arr1, arr2, arr3):
    acc_10 = [x[0] * 100 for x in arr1]
    acc_50 = [x[0] * 100 for x in arr2]
    acc_100 = [x[0] * 100 for x in arr3]

    upper_10 = [(x[0] + 1.96 * x[1] / np.sqrt(20)) * 100 for x in arr1]
    lower_10 = [(x[0] - 1.96 * x[1] / np.sqrt(20)) * 100 for x in arr1]
    upper_50 = [(x[0] + 1.96 * x[1] / np.sqrt(20)) * 100 for x in arr2]
    lower_50 = [(x[0] - 1.96 * x[1] / np.sqrt(20)) * 100 for x in arr2]
    upper_100 = [(x[0] + 1.96 * x[1] / np.sqrt(20)) * 100 for x in arr3]
    lower_100 = [(x[0] - 1.96 * x[1] / np.sqrt(20)) * 100 for x in arr3]

    x = range(0, len(arr1))
    # 创建图形和坐标轴对象
    fig, ax = plt.subplots()

    # 绘制曲线，并为每条曲线添加不同的标记符号
    ax.plot(x, acc_10, label='spc10', linewidth=2)
    ax.plot(x, acc_50, label='spc20', linewidth=2)
    ax.plot(x, acc_100, label='spc30', linewidth=2)

    ax.fill_between(x, lower_10, upper_10, alpha=0.2, color='blue')
    ax.fill_between(x, lower_50, upper_50, alpha=0.2, color='orange')
    ax.fill_between(x, lower_100, upper_100, alpha=0.2, color='green')
    # 添加网格线，使用淡灰色的虚线，增加粗细
    ax.grid(color='lightgrey', linestyle='--', linewidth=1.0)

    ax.set_facecolor('#f5f5f5')
    # 添加轴标签
    ax.set_xlabel(r"Iteration ($\times$1000)", fontsize=28, labelpad=8)
    # ax.set_xticks(range(0, len(arr1)))
    ax.set_ylabel('Testing accuracy (%)', fontsize=28, labelpad=8)
    # 设置横坐标轴的字体大小
    ax.tick_params(axis='x', labelsize=22)
    plt.xticks(range(0, 16, 2), fontsize=22)
    # 设置纵坐标轴的字体大小
    ax.tick_params(axis='y', labelsize=22)
    # 添加图例
    ax.legend(loc='lower right', fontsize=26)
    plt.gcf().set_size_inches(10, 8)
    # 显示图形
    plt.show()


draw(breast_10[:16], breast_20[:16], breast_30[:16])